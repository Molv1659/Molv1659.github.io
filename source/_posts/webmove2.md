---
title: 网站接踵而来的第二次长征
date: 2022/01/03
photos: https://github.com/Molv1659/molv1659.github.io/tree/main/cdn/article-covers/18.JPG
categories: 砂糖实验室
avatar: https://github.com/Molv1659/molv1659.github.io/tree/main/cdn/Kirito1.jpg
authorLink: http://www.sisicheng.com
---
在服务器上跑了一个Travel Story的express app，监听3000端口，然后防火墙设置80端口号打开，nginx设置80端口转到3000端口代理。这个是想写简历的项目，就搭了RESTful的API，前端试了下Bootstrap5，后端是Nodejs和express，然后数据库试了下非关系型数据库的MongoDB。上学期上了数据库原理，对关系型数据库的运行相当了解了，对非关系型数据库还挺好奇2333 。但是下学期不敢选CSE232B了，用Java手撸一个非关系型数据库parser想想就头大，感觉还是会用就行，不想仔细了解了，而且这学期Haskell写对代码计算的Parser，人都写麻了，太废脑子了，人老了，脑子要省着点用23333

然后就出现了一个问题，wordpress不好对它代码魔改（php着实不想学了），然后上次试在新服务器上wordpress root放在子目录里，但是之前的root是直接就/，所以用插件得到的备份里也不知道哪儿怎么改，反正就乱了，无奈。而且这wordpress用的apache，自己写的程序又用nginx，想想就头大。

但是又非常想整个自己的博客，一开始想着就和Travel Story项目差不多嘛，无非换个皮，拿着ctrlC和ctrlV两把斧子，改改就出来了，但是想想发现不对，第一写文章很麻烦，图片都只能用Carousel来放，虽然看照片啥的可以，但是讲技术时候要是图不在对应位置很麻烦。就琢磨着有没有什么能把md文件转成html的包，这样写文章也方便，捣腾捣腾发现包都不好用，但是发现了个新家伙2333 Hexo，用Nodejs写的博客框架，能用md写文章，自动生成静态博客，然后利用git来部署到gitbub那个io，或者自己的服务器上就好。

开始捣腾hexo，捣腾一天在Next主题下跑通了，然后Typora和Hexo的设置都调了下，Typora粘贴图片自动生成同名文件夹存放，hexo也根据图片名自动生成相应的绝对路径。开始美化。

发现居然有人把wordpress我在用的Sakura主题写了个Hexo版本的，太感动了！！开始用，结果一天了还不行，hexo server --debug在本地能跑，不报错，但是生成的静态文件index是空白，人都麻了，这也查不到，毕竟用的人不多，遇到奇奇怪怪的问题只能自立根生，然后试图去搞明白hexo生成静态文件的代码，然后就在一堆技术文档中迷失了23333 放弃。但是小不甘心，这个主题太好看了，而且hexo的话还能在基础上肆意魔改，想想就让人激动，去瞅了瞅github repo的issue，发现最近还是有人跑通了的，别人行那我也行，哼heng，继续调，反正nodejs这点好，只要你不npm -g全局安装，装的环境就是在文件夹里，不行就整个文件夹干掉重来。

然后就经过漫长的实验，最后把nodejs从1.6版本退到1.2版本，再重新装对应的hexo-cli和其他环境，网站就基本能看到了！！果然两年前的主题，要用老版本的去整，最新的稳定版8太行。折磨了好久，深感开发版本更替的艰难，软件的发展不像物理规律，物理规律发现的东西就基本不会变，未来总是对过去兼容的（就算相对论这种，在平时低速环境过去的理论还是算兼容的）但是软件新版本可能很多就变了，而且个人去研究版本变化来让以前项目正确运行在新环境，真的太顶了。

然后就是主题的代码也只是个人热爱而写出来，并没有什么机构来维护，都是作者靠爱维护，所以用的时候也是有点小问题，路径问题整了好久，因为一般就网站在根目录执行，但是我根目录的已经用了，想让这个网站在子目录运行。但是主题里对这部分路径变动的代码就没有仔细写，有的地方是对应处理了的，有的地方就没有，一点点找出来改了（还好是hexo的主题，能自己看懂并修改太好了）发现github这个主题的issue有人遇过同样问题，作者隔了半年才回了句看不懂的东西23333 我就热心地回了下代码应该怎么改，但估计那个提问的人要是之前没整好的话早都放弃调了吧2333

然后就开始了快乐的美化环节！加加改改，现在网站真好看！！而且还很方便继续魔改，感觉是比较有成就感的事儿！到SD这几个月找实习找得人都麻了，生活还是要找点快乐，不能过自闭了2333